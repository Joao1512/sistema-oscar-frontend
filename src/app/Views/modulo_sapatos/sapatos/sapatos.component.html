<div class="container-with-filter ">
  <mat-card>
    <h2>Filtros</h2>

    <form class='form animate__animated animate__fadeIn' [formGroup]="formFiltro">
      <mat-form-field appearance="fill">
        <mat-label> Marca</mat-label>
        <input formControlName='marca' matInput placeholder="Ex: Nike">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Cor</mat-label>
        <input formControlName='cor' matInput placeholder="Ex: Azul">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Preço</mat-label>
        <input formControlName='preco' matInput type="number" class="right-align" placeholder="0">
        <span matPrefix>$&nbsp;</span>
        <span matSuffix>.00</span>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Tamanho</mat-label>
        <input type="number" formControlName='tamanho' matInput placeholder="Ex: 32">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Categoria</mat-label>
        <input formControlName='categoria' matInput placeholder="Ex: Corrida">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Descrição</mat-label>
        <input formControlName='descricao' matInput >
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Data de Cadastro</mat-label>
        <input formControlName='dataCadastro' matInput placeholder="Ex: 02/02/2022">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label> Quantidade em Estoque</mat-label>
        <input formControlName='dataCadastro' matInput type="number">
      </mat-form-field>

      <button style="margin-bottom: 8px;" mat-stroked-button color='warn' (click)="onLimpar()">Limpar</button>
      <button mat-flat-button color='warn' (click)="onFiltrar()"><mat-icon>search</mat-icon> Filtrar</button>
    </form>

  </mat-card>

  <div class="container-filter">

    <div class="table animate__animated animate__fadeIn">
      <div class="header">
        <h1 class="title">
            Administração de Sapatos
        </h1>
        <button mat-flat-button color='warn' [routerLink]="['cadastrar']"><mat-icon>add_circle</mat-icon> Adicionar</button>
      </div>
      <mat-divider style='margin: 16px 0;'></mat-divider>
        <table mat-table [dataSource]="dataSource" matSort>
  
            <ng-container matColumnDef="marca">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Marca</th>
              <td mat-cell *matCellDef="let item"> {{item.marca}} </td>
            </ng-container>
  
            <ng-container matColumnDef="cor">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Cor</th>
              <td mat-cell *matCellDef="let item"> {{item.cor}} </td>
            </ng-container>
  
            <ng-container matColumnDef="preco">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Preço</th>
              <td style='text-align: center;' mat-cell *matCellDef="let item"> {{item.preco}} </td>
            </ng-container>
  
            <ng-container matColumnDef="tamanho">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Tamanho</th>
              <td style='text-align: center;' mat-cell *matCellDef="let item"> {{item.tamanho}} </td>
            </ng-container>
  
            <ng-container matColumnDef="categoria">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Categoria</th>
              <td mat-cell *matCellDef="let item"> {{item.categoria}} </td>
            </ng-container>
  
            <ng-container matColumnDef="descricao">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Descrição</th>
              <td mat-cell *matCellDef="let item"> {{item.descricao | slice:0:25}} </td>
            </ng-container>
  
            <ng-container matColumnDef="dataCadastro">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id"> Data de Cadastro</th>
              <td mat-cell *matCellDef="let item"> {{item.dataCadastro | date: short:pt-br}} </td>
            </ng-container>
  
            <ng-container matColumnDef="quantidadeEstoque">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Quantidade em Estoque</th>
              <td style='text-align: center;' mat-cell *matCellDef="let item"> {{item.quantidadeEstoque}} </td>
            </ng-container>
      
            <ng-container matColumnDef="acoes">
              <th mat-header-cell *matHeaderCellDef> Ações </th>
              <td mat-cell *matCellDef="let item" class='m-card-title' data-label='Ações'>
                <button mat-icon-button aria-label="Editar" color="accent" matTooltip="Editar" [routerLink]="['editar', item.id]" >
                    <mat-icon>edit</mat-icon>
                </button>
                <button mat-icon-button aria-label="Excluir" color="warn" matTooltip="Excluir"  (click)="onExcluir(item.id)">
                    <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container> 
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
    </div>
  </div>
</div>
